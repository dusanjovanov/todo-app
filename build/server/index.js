parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"fTCp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react-redux");exports.useSelector=e.useSelector,exports.useDispatch=function(){return e.useDispatch()};
},{}],"Zs1d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("typesafe-actions");exports.setFilter=t.createStandardAction("SET_FILTER")(),exports.addTodoActions=t.createAsyncAction("ADD_TODO_REQUEST","ADD_TODO_SUCCESS","ADD_TODO_FAILURE")(),exports.addTodo=function(t){return function(o){o(exports.addTodoActions.request()),fetch("http://localhost:5000/api/todos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({text:t})}).then(function(t){t.ok?t.json().then(function(t){return o(exports.addTodoActions.success(t))}):o(exports.addTodoActions.failure(t.statusText))}).catch(function(t){return console.log(t)})}},exports.toggleTodoActions=t.createAsyncAction("TOGGLE_TODO_REQUEST","TOGGLE_TODO_SUCCESS","TOGGLE_TODO_FAILURE")(),exports.toggleTodo=function(t){return function(o){o(exports.toggleTodoActions.request()),fetch("http://localhost:5000/api/todos/"+t+"/toggle",{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){t.ok?t.json().then(function(t){return o(exports.toggleTodoActions.success(t))}):o(exports.toggleTodoActions.failure(t.statusText))}).catch(function(t){return console.log(t)})}},exports.deleteTodoActions=t.createAsyncAction("DELETE_TODO_REQUEST","DELETE_TODO_SUCCESS","DELETE_TODO_FAILURE")(),exports.deleteTodo=function(t){return function(o){o(exports.deleteTodoActions.request()),fetch("http://localhost:5000/api/todos/"+t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){t.ok?t.json().then(function(t){return o(exports.deleteTodoActions.success(t))}):o(exports.deleteTodoActions.failure(t.statusText))}).catch(function(t){return console.log(t)})}};
},{}],"+bty":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),r=e(require("../redux/actionCreators")),o=require("../redux/hooks"),a=function(){var e=t.useState(""),a=e[0],n=e[1],u=o.useDispatch(),d=function(){a.length>0&&(r.addTodo(a)(u),n(""))};return t.default.createElement("div",{className:"add-todo"},t.default.createElement("input",{className:"add-todo__input",type:"text",value:a,onChange:function(e){return n(e.currentTarget.value)},onKeyDown:function(e){13===e.keyCode&&d()},placeholder:"New Todo"}),t.default.createElement("button",{className:"add-todo__button",onClick:function(){return d()},title:"Add todo"},"‚ûï"))};exports.default=a;
},{"../redux/actionCreators":"Zs1d","../redux/hooks":"fTCp"}],"8w/M":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("react")),a=e(require("classnames")),i=require("../redux/hooks"),o=t(require("../redux/actionCreators")),d=function(e){var t=e.todo,d=i.useDispatch();return r.default.createElement("li",{className:"todo-item"},r.default.createElement("div",{className:a.default("todo-item__text",{"todo-item__text--done":t.isDone}),title:t.text,onClick:function(e){o.toggleTodo(Number(e.currentTarget.getAttribute("data-id")))(d)},"data-id":t.id},t.text),r.default.createElement("div",{className:"todo-item__delete",onClick:function(e){o.deleteTodo(Number(e.currentTarget.getAttribute("data-id")))(d)},title:"Delete todo","data-id":t.id},"üóëÔ∏è"))};exports.default=d;
},{"../redux/hooks":"fTCp","../redux/actionCreators":"Zs1d"}],"Ge+u":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("react")),u=require("../redux/hooks"),o=t(require("./Todo")),n=require("react-transition-group"),i=function(){var e=u.useSelector(function(e){return e.todos}),t=u.useSelector(function(e){return e.filter}),i=r.useMemo(function(){return e.filter(function(e){return"completed"===t?e.isDone:"not completed"!==t||!e.isDone})},[t,e]);return r.default.createElement("ul",{className:"todo-list"},r.default.createElement(n.TransitionGroup,null,i.map(function(e){return r.default.createElement(n.CSSTransition,{key:e.id,classNames:"todo-item",timeout:500},r.default.createElement(o.default,{todo:e}))})))};exports.default=i;
},{"../redux/hooks":"fTCp","./Todo":"8w/M"}],"BVz/":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),r=function(e){var r=e.filter,l=e.onClick,u=e.currentFilter,i=r[0].toUpperCase()+r.slice(1);return t.default.createElement("div",{onClick:l},u===r?t.default.createElement("strong",null,i):i)};exports.default=r;
},{}],"5LXN":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("react")),r=require("../redux/hooks"),u=e(require("./Filter")),l=require("../redux/actionCreators"),i=["all","completed","not completed"],a=function(){var e=r.useSelector(function(e){return e.filter}),a=r.useDispatch();return t.default.createElement("div",{className:"filters"},t.default.createElement("div",{className:"filters__text"},"Filters:"),i.map(function(r){return t.default.createElement(u.default,{key:r,filter:r,currentFilter:e,onClick:(i=r,function(){return a(l.setFilter(i))})});var i}))};exports.default=a;
},{"../redux/hooks":"fTCp","./Filter":"BVz/","../redux/actionCreators":"Zs1d"}],"iNLP":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("classnames")),a=e(require("react")),l=require("../redux/hooks"),r=e(require("./AddTodoForm")),u=e(require("./TodoList")),d=e(require("./Filters")),o=function(){var e=l.useSelector(function(e){return e.isLoading});return a.default.createElement("div",{className:"content"},a.default.createElement("h1",{className:"title"},"Todo app"),a.default.createElement(r.default,null),a.default.createElement(d.default,null),a.default.createElement(u.default,null),a.default.createElement("div",{className:"footer"},"Built by Du≈°an Jovanov üíª| MIT"),a.default.createElement("div",{className:t.default("loader",{"loader--visible":e})}))};exports.default=o;
},{"../redux/hooks":"fTCp","./AddTodoForm":"+bty","./TodoList":"Ge+u","./Filters":"5LXN"}],"I7EO":[function(require,module,exports) {
module.exports=[{id:1,text:"Learn React",isDone:!0},{id:2,text:"Make the Chrome T-Rex game",isDone:!1},{id:3,text:"Make the Todo App",isDone:!1}];
},{}],"/ya8":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},e=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),s=0;for(e=0;e<r;e++)for(var i=arguments[e],n=0,a=i.length;n<a;n++,s++)o[s]=i[n];return o},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=require("./actionCreators"),s=require("typesafe-actions"),i=r(require("../../../server/todos.json"));exports.initState={todos:i.default,isLoading:!1,filter:"all"};var n=function(r,i){switch(void 0===r&&(r=exports.initState),i.type){case s.getType(o.addTodoActions.success):return t(t({},r),{todos:e(r.todos,[i.payload]),isLoading:!1});case s.getType(o.toggleTodoActions.success):return t(t({},r),{todos:r.todos.map(function(e){return e.id===i.payload?t(t({},e),{isDone:!e.isDone}):e})});case s.getType(o.deleteTodoActions.success):return t(t({},r),{todos:r.todos.filter(function(t){return t.id!==i.payload})});case s.getType(o.setFilter):return t(t({},r),{filter:i.payload});default:return r}};exports.default=n;
},{"./actionCreators":"Zs1d","../../../server/todos.json":"I7EO"}],"zo2T":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r,i=t(require("express")),o=require("express-validator"),n=t(require("react")),s=require("react-dom/server"),a=require("react-redux"),u=require("redux"),d=t(require("../../client/src/components/App")),l=t(require("../../client/src/redux/reducer")),c=t(require("../todos.json")),f=t(require("fs")),p=t(require("path")),m=t(require("cheerio")),v=process.env.PORT||5e3,_={todos:c.default},g=4,h=i.default();h.use(i.default.json()),r="DEVELOPMENT"===process.env.NODE_ENV?p.default.resolve(__dirname,"../../dist/client"):p.default.resolve(__dirname,"../../build/client"),h.use("/static",i.default.static(r)),h.get("/",function(e,t){var i=u.createStore(l.default),o=i.getState(),c=s.renderToString(n.default.createElement(a.Provider,{store:i},n.default.createElement(d.default,null))),v=f.default.readFileSync(p.default.resolve(r,"index.html")).toString(),_="<script>\n  window.__PRELOADED_STATE__ = "+JSON.stringify(o).replace(/</g,"\\u003c")+"\n  <\/script>",g=m.default.load(v);g("head").append(_),g("#root").html(c),t.send(g.html())}),h.get("/api/todos",function(e,t){t.send(_.todos)});var q=function(e,t,r){var i=o.validationResult(e);if(!i.isEmpty())return t.status(422).json({errors:i.array()});r()};h.post("/api/todos",[o.body("text").isString().isLength({min:1}),q],function(e,t){var r={id:g++,text:e.body.text,isDone:!1};_.todos.push(r),t.json(r)}),h.patch("/api/todos/:id/toggle",[o.param("id").isNumeric(),q],function(t,r){var i=Number(t.params.id);_.todos=_.todos.map(function(t){return t.id===i?e(e({},t),{isDone:!t.isDone}):t}),r.json(i)}),h.delete("/api/todos/:id",[o.param("id").isNumeric(),q],function(e,t){var r=Number(e.params.id);_.todos=c.default.filter(function(e){return e.id!==r}),t.json(r)}),h.listen(v,function(){return console.log("Listening on port "+v)});
},{"../../client/src/components/App":"iNLP","../../client/src/redux/reducer":"/ya8","../todos.json":"I7EO"}]},{},["zo2T"], null)
//# sourceMappingURL=/index.js.map